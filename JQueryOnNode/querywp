#!/usr/bin/env bash
require() {
  hash "$@" | exit
}
require curl jq shuf
count=$(curl --silent 'https://public-api.wordpress.com/rest/v1.1/sites/quiteaquote.in/posts/?pretty=true&context=display&page=1&number=1&fields=found&category=thought%20for%20today&type=post&status=publish' | jq '.found')
# Generate a random number using shuf
rnd="$(shuf -i 1-"${count}" -n 1)"
curl --silent "https://public-api.wordpress.com/rest/v1.1/sites/quiteaquote.in/posts/?pretty=true&context=display&page=${rnd}&number=1&fields=title,content,ID&category=thought%20for%20today&type=post&status=publish&ID=0" |
  jq ".posts[0] | .title,.content"
